{"version":3,"sources":["helpers/api.ts","Components/TodoCard.tsx","App.tsx","index.tsx"],"names":["getAll","url","fetch","then","response","json","TodoCard","todo","className","key","id","user","name","title","completed","App","useState","sortType","setSortType","isLoading","setIsLoading","todos","setTodos","handleLoadClick","a","todosFromServer","usersFromServer","Promise","resolve","setTimeout","todosWithUsers","map","find","userId","visibleTodos","useMemo","sort","b","localeCompare","getVisibleTodos","length","type","onClick","disabled","ReactDOM","render","document","getElementById"],"mappings":"iSAgBMA,G,MAAS,SAAIC,GACjB,OAAOC,MAjBO,wCAiBSD,GACpBE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,YCahBC,EAvBmB,SAAC,GAAD,MAAGC,EAAH,EAAGA,KAAH,OAChC,wBAAIC,UAAU,OAAOC,IAAKF,EAAKG,IAC7B,6BACA,0BAAMF,UAAU,gBAAgBD,EAAKG,IACrC,2BACE,0CACA,uBAAGF,UAAU,cAAb,UAA2BD,EAAKI,YAAhC,aAA2B,EAAWC,OAExC,2BACE,2CACA,2BAAIL,EAAKM,QAEX,2BACE,8CAEEN,EAAKO,UACD,0BAAMN,UAAU,cAAhB,QACA,0BAAMA,UAAU,iBAAhB,iBCyDGO,EAnDO,WAAO,IAAD,EACMC,mBAAS,IADf,mBACnBC,EADmB,KACTC,EADS,OAEQF,oBAAS,GAFjB,mBAEnBG,EAFmB,KAERC,EAFQ,OAGAJ,mBAAiB,IAHjB,mBAGnBK,EAHmB,KAGZC,EAHY,KAKpBC,EAAe,uCAAG,gCAAAC,EAAA,6DACtBJ,GAAa,GADS,SFbIpB,EAAa,SEajB,cAGhByB,EAHgB,gBFfIzB,EAAa,SEejB,cAIhB0B,EAJgB,gBAMhB,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAAS,QAN3B,OAQhBE,EAAiBL,EAAgBM,KAAI,SAAAxB,GAAI,kCAC1CA,GAD0C,IAE7CI,KAAMe,EAAgBM,MAAK,SAAArB,GAAI,OAAIA,EAAKD,KAAOH,EAAK0B,eAGtDX,EAASQ,GAba,4CAAH,qDAgBfI,EAAeC,mBAAQ,WAC3B,OA/CoB,SAACd,EAAeJ,GACtC,OAAQA,GACN,IAAK,QACH,OAAO,YAAII,GAAOe,MAAK,SAACZ,EAAGa,GAAJ,OAAUb,EAAEX,MAAMyB,cAAcD,EAAExB,UAE3D,IAAK,KACH,OAAO,YAAIQ,GAAOe,MAAK,SAACZ,EAAGa,GAAJ,OAAUb,EAAEd,GAAK2B,EAAE3B,MAE5C,IAAK,WACH,OAAO,YAAIW,GAAOe,MAAK,SAACZ,EAAGa,GACzB,OAAQb,EAAEb,MAAQ0B,EAAE1B,KAChBa,EAAEb,KAAKC,KAAK0B,cAAcD,EAAE1B,KAAKC,MACjC,KAGR,IAAK,SACH,OAAO,YAAIS,GAAOe,MAAK,SAACZ,EAAGa,GACzB,OAAQb,EAAEV,WAAauB,EAAEvB,aAG7B,QACE,OAAOO,GA0BFkB,CAAgBlB,EAAOJ,KAC7B,CAACI,EAAOJ,IAEX,OACE,oCACE,wBAAIT,UAAU,SAAd,yBACkB,IAAjBa,EAAMmB,OACL,4BAAQhC,UAAU,eAAeiC,KAAK,SAASC,QAASnB,EAAiBoB,SAAUxB,GAChFA,EAAY,aAAe,QAG9B,oCACE,4BAAQX,UAAU,qBAAqBiC,KAAK,SAASC,QAAS,kBAAMxB,EAAY,WAAhF,iBACA,4BAAQV,UAAU,oBAAoBiC,KAAK,SAASC,QAAS,kBAAMxB,EAAY,cAA/E,gBACA,4BAAQV,UAAU,sBAAsBiC,KAAK,SAASC,QAAS,kBAAMxB,EAAY,YAAjF,kBACA,4BAAQV,UAAU,gBAAgBiC,KAAK,SAASC,QAAS,kBAAMxB,EAAY,QAA3E,SACA,wBAAIV,UAAU,QACX0B,EAAaH,KAAI,SAAAxB,GAAI,OACpB,wBAAIE,IAAKF,EAAKG,IACZ,kBAAC,EAAD,CAAUH,KAAMA,YCpEhCqC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.7f561807.chunk.js","sourcesContent":["const API_URL = 'https://jsonplaceholder.typicode.com/';\n\nexport interface User {\n  id: number;\n  name: string;\n}\n\nexport interface Todo {\n  map(arg0: (todo: Todo) => JSX.Element): import('react').ReactNode;\n  id: number;\n  title: string;\n  completed: boolean;\n  userId: number;\n  user?: User;\n}\n\nconst getAll = <T>(url: string): Promise<T[]> => {\n  return fetch(API_URL + url)\n    .then(response => response.json());\n};\n\nexport const getUsers = () => getAll<User>('users');\n\nexport const getTodos = () => getAll<Todo>('todos');\n","import React from 'react';\n\nimport { Todo } from '../helpers/api';\n\ntype Props = {\n  todo: Todo;\n};\n\nconst TodoCard: React.FC<Props> = ({ todo }) => (\n  <li className=\"card\" key={todo.id}>\n    <br />\n    <span className=\"card__number\">{todo.id}</span>\n    <p>\n      <strong>User: </strong>\n      <i className=\"user__name\">{todo.user?.name}</i>\n    </p>\n    <p>\n      <strong>To-do: </strong>\n      <i>{todo.title}</i>\n    </p>\n    <p>\n      <strong>Complete: </strong>\n      {\n        todo.completed\n          ? <span className=\"todo__done\">Done</span>\n          : <span className=\"todo__notDone\">In process</span>\n      }\n    </p>\n  </li>\n);\n\nexport default TodoCard;\n","import React, { useState, useMemo } from 'react';\nimport './App.css';\n\nimport { getUsers, getTodos, Todo } from './helpers/api';\nimport TodoCard from './Components/TodoCard';\n\nconst getVisibleTodos = (todos: Todo[], sortType: string) => {\n  switch (sortType) {\n    case 'title':\n      return [...todos].sort((a, b) => a.title.localeCompare(b.title));\n\n    case 'id':\n      return [...todos].sort((a, b) => a.id - b.id);\n\n    case 'userName':\n      return [...todos].sort((a, b) => {\n        return (a.user && b.user)\n          ? a.user.name.localeCompare(b.user.name)\n          : 0;\n      });\n\n    case 'status':\n      return [...todos].sort((a, b) => {\n        return +a.completed - +b.completed;\n      });\n\n    default:\n      return todos;\n  }\n};\n\nconst App: React.FC = () => {\n  const [sortType, setSortType] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const handleLoadClick = async () => {\n    setIsLoading(true);\n\n    const todosFromServer = await getTodos();\n    const usersFromServer = await getUsers();\n\n    await new Promise(resolve => setTimeout(resolve, 500));\n\n    const todosWithUsers = todosFromServer.map(todo => ({\n      ...todo,\n      user: usersFromServer.find(user => user.id === todo.userId),\n    }));\n\n    setTodos(todosWithUsers);\n  };\n\n  const visibleTodos = useMemo(() => {\n    return getVisibleTodos(todos, sortType);\n  }, [todos, sortType]);\n\n  return (\n    <>\n      <h1 className=\"title\">Dynamic list of TODOs</h1>\n      {todos.length === 0 ? (\n        <button className=\"btn load-btn\" type=\"button\" onClick={handleLoadClick} disabled={isLoading}>\n          {isLoading ? 'Loading...' : 'Load'}\n        </button>\n      ) : (\n        <>\n          <button className=\"btn sort-title-btn\" type=\"button\" onClick={() => setSortType('title')}>Sort by title</button>\n          <button className=\"btn sort-user-btn\" type=\"button\" onClick={() => setSortType('userName')}>Sort by user</button>\n          <button className=\"btn sort-status-btn\" type=\"button\" onClick={() => setSortType('status')}>Sort by status</button>\n          <button className=\"btn reset-btn\" type=\"button\" onClick={() => setSortType('id')}>Reset</button>\n          <ul className=\"list\">\n            {visibleTodos.map(todo => (\n              <li key={todo.id}>\n                <TodoCard todo={todo} />\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}